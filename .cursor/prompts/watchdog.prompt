# watchdog.prompt â€” Surveillance intelligente du projet

## ğŸ¯ Objectif :
RÃ©agir automatiquement Ã  des changements dÃ©tectÃ©s dans le projet (fichiers modifiÃ©s, TODO.md mis Ã  jour, nouvelle phase ajoutÃ©e).

---

## ğŸ“¥ EntrÃ©es :
- Arborescence du projet (`src/`, `tests/`, `docs/`)
- `TODO.md`
- `.cursor/state.json`
- Cache de fichiers ou horodatages prÃ©cÃ©dents (via `.cursor/watchdog_cache.json`)

---

## ğŸ§  RÃ¨gle de dÃ©tection :
- Si un fichier `.py`, `.md` ou `.json` est modifiÃ© aprÃ¨s le `last_updated` de `state.json`
- Si une nouvelle phase `[ ]` apparaÃ®t dans `TODO.md`
- Si un fichier modifiÃ© nâ€™est pas listÃ© dans `state.json.fichiers_modifiÃ©s`

---

## ğŸ” RÃ©actions possibles :
- Marquer dans `state.json.watchdog_triggered = true`
- Ajouter la liste des fichiers dÃ©clencheurs
- Ã‰crire un log dans `logs/watchdog.log`
- Facultatif : appeler automatiquement `plan.prompt` pour relancer la boucle

---

## âš ï¸ Contraintes :
- Ne pas exÃ©cuter de prompt de transformation directement
- Ne jamais modifier `TODO.md`
- Logger toutes les dÃ©tections dans `watchdog.log`
- Ne jamais notifier l'utilisateur

---

## ğŸ“¤ Exemple dâ€™effet :
Une modif dans `src/api/logic.py` non listÃ©e dans le `TODO.md` :
- DÃ©tectÃ©e et logguÃ©e
- StockÃ©e dans `state.json.watchdog_triggered = true`
- `plan.prompt` peut Ãªtre relancÃ© automatiquement ou manuellement

---

# Ce prompt fonctionne comme un capteur passif.
# Il est Ã  dÃ©clencher rÃ©guliÃ¨rement via script ou boucle Cursor.
